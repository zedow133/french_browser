<div class="container">
    <div class="video-panel">
      <h3>Video: {{ this.videoService.trim(this.videoService.trim(this.videoService.currentKeyframeName)) }}</h3>
      <video #mainVideo [src]="'http://localhost:8000/media/videos/' + this.videoService.trim(this.videoService.trim(this.videoService.currentKeyframeName)) + '.mp4'" controls width="100%"></video>
      
      <!-- Submission information -->
      <div class="button-group">
      <button class="submit-btn" (click)="onSubmitVideoAction()">Submit</button>
      <div class="timestamp-controls">
        <div class="timestamp-group">
          <button class="timestamp-btn" (click)="setCustomStamp('start')">Set start</button>
          <div class="info-item">
            <strong>Start timestamp:</strong> {{ this.videoService.customStartStamp }} ms
          </div>
        </div>
        
        <div class="timestamp-group">
          <button class="timestamp-btn" (click)="setCustomStamp('end')">Set end</button>
          <div class="info-item">
            <strong>End timestamp:</strong> {{ this.videoService.customEndStamp }} ms
          </div>
        </div>
      </div>
      </div>

      <h3 style="margin-top: 10px;">Clip: {{ this.videoService.trim(this.videoService.currentKeyframeName) }}    from {{ this.videoService.currentKeyframeName }}</h3>
      <video [src]="'http://localhost:8000/media/shots/' + this.videoService.trim(this.videoService.trim(this.videoService.currentKeyframeName)) + '/clips/' + this.videoService.trim(this.videoService.currentKeyframeName) + '.mp4'" controls width="100%"></video>
      
      <!-- Shot information -->
      <div class="button-group">
      <button class="timestamp-btn" (click)="this.setVideoToStartStamp()">Go to clip start</button>
      <div class="timestamp-controls" *ngIf="this.videoService.currentShot">
        <div class="info-item">
          <strong>Start stamp:</strong> {{ this.videoService.currentShot.start_stamp }} ms
        </div>
        <div class="info-item">
          <strong>End stamp:</strong> {{ this.videoService.currentShot.end_stamp }} ms
        </div>
      </div>
      </div>
    </div>
  
    <div class="panel">
    <!-- Other keyframes of the shot -->
    <div class="keyframes-panel">
      <h3>Keyframes from the Same Shot</h3>
      <div class="keyframes-grid">
        <div class="video-thumbnail" *ngFor="let keyframeName of this.videoService.keyframesShot()" (click)="openVideo(keyframeName)">
          <img [src]="'http://localhost:8000/media/shots/' + this.videoService.trim(this.videoService.trim(keyframeName)) + '/keyframes/' + keyframeName + '.jpg'" alt="Video thumbnail">
        </div>
      </div>
    </div>

    <div class="keyframes-panel">
      <h3>Similar keyframes</h3>
      <div class="keyframes-grid">
        <div class="video-thumbnail" *ngFor="let keyframeName of this.videoService.similarKeyframes()" (click)="openVideo(keyframeName)">
          <img [src]="'http://localhost:8000/media/shots/' + this.videoService.trim(this.videoService.trim(keyframeName)) + '/keyframes/' + keyframeName + '.jpg'" alt="Video thumbnail">
        </div>
      </div>
    </div>
  </div>
  </div>