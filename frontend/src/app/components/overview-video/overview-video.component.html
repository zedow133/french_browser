<div style="margin: 20px;">
  <button class="btn btn-primary" (click)="homepage()">Home</button>
</div>
<div class="container">
    <div class="video-panel">
      <h3>Video: {{ this.videoService.trim(this.videoService.currentShotID) }}</h3>
      <video #mainVideo [src]="'http://localhost:8000/media/videos/' + this.videoService.trim(this.videoService.currentShotID) + '.mp4'" controls width="100%"></video>
      <div class="info-item">
        <strong>Video name:</strong> 
      </div>
      <button class="submit-btn" (click)="onSubmitVideoAction()">Submit</button>

      <!-- Boutons pour définir les timestamps personnalisés -->
      <div class="timestamp-controls">
        <button class="timestamp-btn" (click)="setCustomStart()">Set start</button>
        <button class="timestamp-btn" (click)="setCustomEnd()">Set end</button>
      </div>

      <!-- Affichage des timestamps personnalisés -->
      <div class="custom-timestamps">
        <div class="info-item">
          <strong>Submission start timestamp:</strong> {{ this.videoService.customStartStamp }} ms
        </div>
        <div class="info-item">
          <strong>Submission end timestamp:</strong> {{ this.videoService.customEndStamp }} ms
        </div>
      </div>

      <h3>Clip: {{ this.videoService.currentShotID }}</h3>
      <video [src]="'http://localhost:8000/media/shots/' + this.videoService.trim(this.videoService.currentShotID) + '/clips/' + this.videoService.currentShotID + '.mp4'" controls width="100%"></video>
      
      <!-- Liste des informations du shot -->
      <div class="shot-info" *ngIf="this.videoService.currentShot">
        <div class="info-item">
          <strong>Start stamp:</strong> {{ this.videoService.currentShot.start_stamp }} ms
        </div>
        <div class="info-item">
          <strong>End stamp:</strong> {{ this.videoService.currentShot.end_stamp }} ms
        </div>
        <button class="btn btn-secondary" (click)="this.setVideoToStartStamp()">Go to clip start</button>
      </div>
    </div>
  
    <div class="keyframes-panel">
      <h3>Similar keyframes</h3>
      <div class="keyframes-grid">
        <div class="frame video-thumbnail" *ngFor="let img of this.videoService.similarShots()" (click)="openVideo(img)">
          <img [src]="'http://localhost:8000/media/shots/' + this.videoService.trim(img) + '/keyframes/' + img + '.jpg'" alt="Video thumbnail">
        </div>
      </div>
    </div>
  </div>